// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package castai

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-terraform-provider/sdks/go/castai/v7/castai/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type NodeConfiguration struct {
	pulumi.CustomResourceState

	Aks NodeConfigurationAksPtrOutput `pulumi:"aks"`
	// CAST AI cluster id
	ClusterId pulumi.StringOutput `pulumi:"clusterId"`
	// Optional container runtime to be used by kubelet. Applicable for EKS only. Supported values include: `dockerd`,
	// `containerd`
	ContainerRuntime pulumi.StringPtrOutput `pulumi:"containerRuntime"`
	// Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0
	DiskCpuRatio pulumi.Float64PtrOutput `pulumi:"diskCpuRatio"`
	// Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override.
	// Applicable for EKS only. [Available
	// values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)
	DockerConfig pulumi.StringPtrOutput `pulumi:"dockerConfig"`
	// Timeout in seconds for draining the node. Defaults to 0
	DrainTimeoutSec pulumi.Float64PtrOutput       `pulumi:"drainTimeoutSec"`
	Eks             NodeConfigurationEksPtrOutput `pulumi:"eks"`
	Gke             NodeConfigurationGkePtrOutput `pulumi:"gke"`
	// Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on
	// Image family, Kubernetes version and node architecture if possible. See Cast.ai documentation for details.
	Image pulumi.StringPtrOutput `pulumi:"image"`
	// Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded
	InitScript pulumi.StringPtrOutput         `pulumi:"initScript"`
	Kops       NodeConfigurationKopsPtrOutput `pulumi:"kops"`
	// Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable
	// for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)
	KubeletConfig pulumi.StringPtrOutput `pulumi:"kubeletConfig"`
	// Minimal disk size in GiB. Defaults to 100, min 30, max 65536
	MinDiskSize         pulumi.Float64PtrOutput `pulumi:"minDiskSize"`
	Name                pulumi.StringOutput     `pulumi:"name"`
	NodeConfigurationId pulumi.StringOutput     `pulumi:"nodeConfigurationId"`
	// SSH public key to be used for provisioned nodes
	SshPublicKey pulumi.StringPtrOutput `pulumi:"sshPublicKey"`
	// Subnet ids to be used for provisioned nodes
	Subnets pulumi.StringArrayOutput `pulumi:"subnets"`
	// Tags to be added on cloud instances for provisioned nodes
	Tags     pulumi.StringMapOutput             `pulumi:"tags"`
	Timeouts NodeConfigurationTimeoutsPtrOutput `pulumi:"timeouts"`
}

// NewNodeConfiguration registers a new resource with the given unique name, arguments, and options.
func NewNodeConfiguration(ctx *pulumi.Context,
	name string, args *NodeConfigurationArgs, opts ...pulumi.ResourceOption) (*NodeConfiguration, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ClusterId == nil {
		return nil, errors.New("invalid value for required argument 'ClusterId'")
	}
	if args.Subnets == nil {
		return nil, errors.New("invalid value for required argument 'Subnets'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	ref, err := internal.PkgGetPackageRef(ctx)
	if err != nil {
		return nil, err
	}
	var resource NodeConfiguration
	err = ctx.RegisterPackageResource("castai:index/nodeConfiguration:NodeConfiguration", name, args, &resource, ref, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetNodeConfiguration gets an existing NodeConfiguration resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetNodeConfiguration(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *NodeConfigurationState, opts ...pulumi.ResourceOption) (*NodeConfiguration, error) {
	var resource NodeConfiguration
	ref, err := internal.PkgGetPackageRef(ctx)
	if err != nil {
		return nil, err
	}
	err = ctx.ReadPackageResource("castai:index/nodeConfiguration:NodeConfiguration", name, id, state, &resource, ref, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering NodeConfiguration resources.
type nodeConfigurationState struct {
	Aks *NodeConfigurationAks `pulumi:"aks"`
	// CAST AI cluster id
	ClusterId *string `pulumi:"clusterId"`
	// Optional container runtime to be used by kubelet. Applicable for EKS only. Supported values include: `dockerd`,
	// `containerd`
	ContainerRuntime *string `pulumi:"containerRuntime"`
	// Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0
	DiskCpuRatio *float64 `pulumi:"diskCpuRatio"`
	// Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override.
	// Applicable for EKS only. [Available
	// values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)
	DockerConfig *string `pulumi:"dockerConfig"`
	// Timeout in seconds for draining the node. Defaults to 0
	DrainTimeoutSec *float64              `pulumi:"drainTimeoutSec"`
	Eks             *NodeConfigurationEks `pulumi:"eks"`
	Gke             *NodeConfigurationGke `pulumi:"gke"`
	// Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on
	// Image family, Kubernetes version and node architecture if possible. See Cast.ai documentation for details.
	Image *string `pulumi:"image"`
	// Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded
	InitScript *string                `pulumi:"initScript"`
	Kops       *NodeConfigurationKops `pulumi:"kops"`
	// Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable
	// for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)
	KubeletConfig *string `pulumi:"kubeletConfig"`
	// Minimal disk size in GiB. Defaults to 100, min 30, max 65536
	MinDiskSize         *float64 `pulumi:"minDiskSize"`
	Name                *string  `pulumi:"name"`
	NodeConfigurationId *string  `pulumi:"nodeConfigurationId"`
	// SSH public key to be used for provisioned nodes
	SshPublicKey *string `pulumi:"sshPublicKey"`
	// Subnet ids to be used for provisioned nodes
	Subnets []string `pulumi:"subnets"`
	// Tags to be added on cloud instances for provisioned nodes
	Tags     map[string]string          `pulumi:"tags"`
	Timeouts *NodeConfigurationTimeouts `pulumi:"timeouts"`
}

type NodeConfigurationState struct {
	Aks NodeConfigurationAksPtrInput
	// CAST AI cluster id
	ClusterId pulumi.StringPtrInput
	// Optional container runtime to be used by kubelet. Applicable for EKS only. Supported values include: `dockerd`,
	// `containerd`
	ContainerRuntime pulumi.StringPtrInput
	// Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0
	DiskCpuRatio pulumi.Float64PtrInput
	// Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override.
	// Applicable for EKS only. [Available
	// values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)
	DockerConfig pulumi.StringPtrInput
	// Timeout in seconds for draining the node. Defaults to 0
	DrainTimeoutSec pulumi.Float64PtrInput
	Eks             NodeConfigurationEksPtrInput
	Gke             NodeConfigurationGkePtrInput
	// Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on
	// Image family, Kubernetes version and node architecture if possible. See Cast.ai documentation for details.
	Image pulumi.StringPtrInput
	// Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded
	InitScript pulumi.StringPtrInput
	Kops       NodeConfigurationKopsPtrInput
	// Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable
	// for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)
	KubeletConfig pulumi.StringPtrInput
	// Minimal disk size in GiB. Defaults to 100, min 30, max 65536
	MinDiskSize         pulumi.Float64PtrInput
	Name                pulumi.StringPtrInput
	NodeConfigurationId pulumi.StringPtrInput
	// SSH public key to be used for provisioned nodes
	SshPublicKey pulumi.StringPtrInput
	// Subnet ids to be used for provisioned nodes
	Subnets pulumi.StringArrayInput
	// Tags to be added on cloud instances for provisioned nodes
	Tags     pulumi.StringMapInput
	Timeouts NodeConfigurationTimeoutsPtrInput
}

func (NodeConfigurationState) ElementType() reflect.Type {
	return reflect.TypeOf((*nodeConfigurationState)(nil)).Elem()
}

type nodeConfigurationArgs struct {
	Aks *NodeConfigurationAks `pulumi:"aks"`
	// CAST AI cluster id
	ClusterId string `pulumi:"clusterId"`
	// Optional container runtime to be used by kubelet. Applicable for EKS only. Supported values include: `dockerd`,
	// `containerd`
	ContainerRuntime *string `pulumi:"containerRuntime"`
	// Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0
	DiskCpuRatio *float64 `pulumi:"diskCpuRatio"`
	// Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override.
	// Applicable for EKS only. [Available
	// values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)
	DockerConfig *string `pulumi:"dockerConfig"`
	// Timeout in seconds for draining the node. Defaults to 0
	DrainTimeoutSec *float64              `pulumi:"drainTimeoutSec"`
	Eks             *NodeConfigurationEks `pulumi:"eks"`
	Gke             *NodeConfigurationGke `pulumi:"gke"`
	// Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on
	// Image family, Kubernetes version and node architecture if possible. See Cast.ai documentation for details.
	Image *string `pulumi:"image"`
	// Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded
	InitScript *string                `pulumi:"initScript"`
	Kops       *NodeConfigurationKops `pulumi:"kops"`
	// Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable
	// for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)
	KubeletConfig *string `pulumi:"kubeletConfig"`
	// Minimal disk size in GiB. Defaults to 100, min 30, max 65536
	MinDiskSize         *float64 `pulumi:"minDiskSize"`
	Name                *string  `pulumi:"name"`
	NodeConfigurationId *string  `pulumi:"nodeConfigurationId"`
	// SSH public key to be used for provisioned nodes
	SshPublicKey *string `pulumi:"sshPublicKey"`
	// Subnet ids to be used for provisioned nodes
	Subnets []string `pulumi:"subnets"`
	// Tags to be added on cloud instances for provisioned nodes
	Tags     map[string]string          `pulumi:"tags"`
	Timeouts *NodeConfigurationTimeouts `pulumi:"timeouts"`
}

// The set of arguments for constructing a NodeConfiguration resource.
type NodeConfigurationArgs struct {
	Aks NodeConfigurationAksPtrInput
	// CAST AI cluster id
	ClusterId pulumi.StringInput
	// Optional container runtime to be used by kubelet. Applicable for EKS only. Supported values include: `dockerd`,
	// `containerd`
	ContainerRuntime pulumi.StringPtrInput
	// Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0
	DiskCpuRatio pulumi.Float64PtrInput
	// Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override.
	// Applicable for EKS only. [Available
	// values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)
	DockerConfig pulumi.StringPtrInput
	// Timeout in seconds for draining the node. Defaults to 0
	DrainTimeoutSec pulumi.Float64PtrInput
	Eks             NodeConfigurationEksPtrInput
	Gke             NodeConfigurationGkePtrInput
	// Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on
	// Image family, Kubernetes version and node architecture if possible. See Cast.ai documentation for details.
	Image pulumi.StringPtrInput
	// Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded
	InitScript pulumi.StringPtrInput
	Kops       NodeConfigurationKopsPtrInput
	// Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable
	// for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)
	KubeletConfig pulumi.StringPtrInput
	// Minimal disk size in GiB. Defaults to 100, min 30, max 65536
	MinDiskSize         pulumi.Float64PtrInput
	Name                pulumi.StringPtrInput
	NodeConfigurationId pulumi.StringPtrInput
	// SSH public key to be used for provisioned nodes
	SshPublicKey pulumi.StringPtrInput
	// Subnet ids to be used for provisioned nodes
	Subnets pulumi.StringArrayInput
	// Tags to be added on cloud instances for provisioned nodes
	Tags     pulumi.StringMapInput
	Timeouts NodeConfigurationTimeoutsPtrInput
}

func (NodeConfigurationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*nodeConfigurationArgs)(nil)).Elem()
}

type NodeConfigurationInput interface {
	pulumi.Input

	ToNodeConfigurationOutput() NodeConfigurationOutput
	ToNodeConfigurationOutputWithContext(ctx context.Context) NodeConfigurationOutput
}

func (*NodeConfiguration) ElementType() reflect.Type {
	return reflect.TypeOf((**NodeConfiguration)(nil)).Elem()
}

func (i *NodeConfiguration) ToNodeConfigurationOutput() NodeConfigurationOutput {
	return i.ToNodeConfigurationOutputWithContext(context.Background())
}

func (i *NodeConfiguration) ToNodeConfigurationOutputWithContext(ctx context.Context) NodeConfigurationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(NodeConfigurationOutput)
}

type NodeConfigurationOutput struct{ *pulumi.OutputState }

func (NodeConfigurationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**NodeConfiguration)(nil)).Elem()
}

func (o NodeConfigurationOutput) ToNodeConfigurationOutput() NodeConfigurationOutput {
	return o
}

func (o NodeConfigurationOutput) ToNodeConfigurationOutputWithContext(ctx context.Context) NodeConfigurationOutput {
	return o
}

func (o NodeConfigurationOutput) Aks() NodeConfigurationAksPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) NodeConfigurationAksPtrOutput { return v.Aks }).(NodeConfigurationAksPtrOutput)
}

// CAST AI cluster id
func (o NodeConfigurationOutput) ClusterId() pulumi.StringOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringOutput { return v.ClusterId }).(pulumi.StringOutput)
}

// Optional container runtime to be used by kubelet. Applicable for EKS only. Supported values include: `dockerd`,
// `containerd`
func (o NodeConfigurationOutput) ContainerRuntime() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringPtrOutput { return v.ContainerRuntime }).(pulumi.StringPtrOutput)
}

// Disk to CPU ratio. Sets the number of GiBs to be added for every CPU on the node. Defaults to 0
func (o NodeConfigurationOutput) DiskCpuRatio() pulumi.Float64PtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.Float64PtrOutput { return v.DiskCpuRatio }).(pulumi.Float64PtrOutput)
}

// Optional docker daemon configuration properties in JSON format. Provide only properties that you want to override.
// Applicable for EKS only. [Available
// values](https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file)
func (o NodeConfigurationOutput) DockerConfig() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringPtrOutput { return v.DockerConfig }).(pulumi.StringPtrOutput)
}

// Timeout in seconds for draining the node. Defaults to 0
func (o NodeConfigurationOutput) DrainTimeoutSec() pulumi.Float64PtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.Float64PtrOutput { return v.DrainTimeoutSec }).(pulumi.Float64PtrOutput)
}

func (o NodeConfigurationOutput) Eks() NodeConfigurationEksPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) NodeConfigurationEksPtrOutput { return v.Eks }).(NodeConfigurationEksPtrOutput)
}

func (o NodeConfigurationOutput) Gke() NodeConfigurationGkePtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) NodeConfigurationGkePtrOutput { return v.Gke }).(NodeConfigurationGkePtrOutput)
}

// Image to be used while provisioning the node. If nothing is provided will be resolved to latest available image based on
// Image family, Kubernetes version and node architecture if possible. See Cast.ai documentation for details.
func (o NodeConfigurationOutput) Image() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringPtrOutput { return v.Image }).(pulumi.StringPtrOutput)
}

// Init script to be run on your instance at launch. Should not contain any sensitive data. Value should be base64 encoded
func (o NodeConfigurationOutput) InitScript() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringPtrOutput { return v.InitScript }).(pulumi.StringPtrOutput)
}

func (o NodeConfigurationOutput) Kops() NodeConfigurationKopsPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) NodeConfigurationKopsPtrOutput { return v.Kops }).(NodeConfigurationKopsPtrOutput)
}

// Optional kubelet configuration properties in JSON format. Provide only properties that you want to override. Applicable
// for EKS only. [Available values](https://kubernetes.io/docs/reference/config-api/kubelet-config.v1beta1/)
func (o NodeConfigurationOutput) KubeletConfig() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringPtrOutput { return v.KubeletConfig }).(pulumi.StringPtrOutput)
}

// Minimal disk size in GiB. Defaults to 100, min 30, max 65536
func (o NodeConfigurationOutput) MinDiskSize() pulumi.Float64PtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.Float64PtrOutput { return v.MinDiskSize }).(pulumi.Float64PtrOutput)
}

func (o NodeConfigurationOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

func (o NodeConfigurationOutput) NodeConfigurationId() pulumi.StringOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringOutput { return v.NodeConfigurationId }).(pulumi.StringOutput)
}

// SSH public key to be used for provisioned nodes
func (o NodeConfigurationOutput) SshPublicKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringPtrOutput { return v.SshPublicKey }).(pulumi.StringPtrOutput)
}

// Subnet ids to be used for provisioned nodes
func (o NodeConfigurationOutput) Subnets() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringArrayOutput { return v.Subnets }).(pulumi.StringArrayOutput)
}

// Tags to be added on cloud instances for provisioned nodes
func (o NodeConfigurationOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *NodeConfiguration) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

func (o NodeConfigurationOutput) Timeouts() NodeConfigurationTimeoutsPtrOutput {
	return o.ApplyT(func(v *NodeConfiguration) NodeConfigurationTimeoutsPtrOutput { return v.Timeouts }).(NodeConfigurationTimeoutsPtrOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*NodeConfigurationInput)(nil)).Elem(), &NodeConfiguration{})
	pulumi.RegisterOutputType(NodeConfigurationOutput{})
}
